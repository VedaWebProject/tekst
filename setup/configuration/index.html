
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A tool for creating open collaborative text research platforms">
      
      
      
      
        <link rel="prev" href="../installation/">
      
      
        <link rel="next" href="../customization/">
      
      
      <link rel="icon" href="../../assets/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Configuration - Tekst</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Tekst" class="md-header__button md-logo" aria-label="Tekst" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tekst
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/VedaWebProject/Tekst" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    VedaWebProject/Tekst
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Tekst" class="md-nav__button md-logo" aria-label="Tekst" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Tekst
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/VedaWebProject/Tekst" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    VedaWebProject/Tekst
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is Tekst?
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Concepts
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Setup
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-config" class="md-nav__link">
    <span class="md-ellipsis">
      Core Config
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-mongodb" class="md-nav__link">
    <span class="md-ellipsis">
      Database (MongoDB)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#search-server-elasticsearch" class="md-nav__link">
    <span class="md-ellipsis">
      Search Server (Elasticsearch)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    <span class="md-ellipsis">
      Security
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#email" class="md-nav__link">
    <span class="md-ellipsis">
      Email
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Documentation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cross-origin-resource-sharing-cors" class="md-nav__link">
    <span class="md-ellipsis">
      Cross-Origin Resource Sharing (CORS)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-left" class="md-nav__link">
    <span class="md-ellipsis">
      What is left
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../customization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customization
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resources
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-config" class="md-nav__link">
    <span class="md-ellipsis">
      Core Config
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-mongodb" class="md-nav__link">
    <span class="md-ellipsis">
      Database (MongoDB)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#search-server-elasticsearch" class="md-nav__link">
    <span class="md-ellipsis">
      Search Server (Elasticsearch)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    <span class="md-ellipsis">
      Security
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#email" class="md-nav__link">
    <span class="md-ellipsis">
      Email
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Documentation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cross-origin-resource-sharing-cors" class="md-nav__link">
    <span class="md-ellipsis">
      Cross-Origin Resource Sharing (CORS)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-left" class="md-nav__link">
    <span class="md-ellipsis">
      What is left
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="configuration">Configuration</h1>
<p>The following table lists all the configuration values that can be set as environment variables (e.g. via a <code>.env</code> file).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>These configuration values can <em>only be set via this configuration</em> and any changes require an application restart to take effect.</li>
<li>Some variable names contain <em>double</em> underscores (<code>__</code>) to reflect the nested internal configuration – be careful not to miss those in case you're into typing things by hand.</li>
</ul>
</div>
<h2 id="core-config">Core Config</h2>
<p>Basic configuration, URL, paths, ...</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>TEKST_SERVER_URL</code></td>
<td>Full public URL of the server running the application (without sub path, port only if other than 80/443) (String – default: <code>http://127.0.0.1:8000</code>)</td>
</tr>
<tr>
<td><code>TEKST_API_PATH</code></td>
<td>Public sub path of the API (String – default: <code>/api</code>)</td>
</tr>
<tr>
<td><code>TEKST_WEB_PATH</code></td>
<td>Public sub path of the web client; <strong>if using the project's</strong> <code>compose.yml</code><strong>, this has to be set even if the value matches the default!</strong> (String – default: <code>/</code>)</td>
</tr>
<tr>
<td><code>TEKST_BEHIND_REVERSE_PROXY</code></td>
<td>If the API runs behind a reverse proxy (e.g. if using the the project's <code>compose.yml</code>), set this to <code>true</code> and make sure the reverse proxy is properly setting (or appending to) the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For"><code>X-Forwarded-For</code></a> header on the passed requests. This is to make sure the API is able to <strong>try to</strong> prevent accidentally flooding the workers with long-running background jobs. (Boolean – default: <code>false</code>)</td>
</tr>
<tr>
<td><code>TEKST_WEB_STATIC_DIR</code></td>
<td>Local path to static web files directory (String – default: <code>/var/www/tekst/static/</code>)</td>
</tr>
<tr>
<td><code>TEKST_DEV_MODE</code></td>
<td>Development mode – only use for development! (Boolean – default: <code>false</code>)</td>
</tr>
<tr>
<td><code>TEKST_LOG_LEVEL</code></td>
<td>API log level (<code>DEBUG</code></td>
</tr>
<tr>
<td><code>TEKST_AUTO_MIGRATE</code></td>
<td>If <code>false</code> (default) and there are pending DB migrations that should be run, the API as well as the setup routine will (on startup) log a critical message about this, block further execution, check again for pending migrations every minute for an hour, then repeat. This gives you the chance to make a DB backup and run the migrations manually (see the Tekst CLI). If <code>true</code>, pending migrations will be automatically run by the API/setup on startup. (Boolean – default: <code>false</code>)</td>
</tr>
<tr>
<td><code>TEKST_TEMP_FILES_DIR</code></td>
<td>Absolute path to local temporary directory to use (String – default: <code>/tmp/tekst_tmp</code>)</td>
</tr>
</tbody>
</table>
<h2 id="database-mongodb">Database (MongoDB)</h2>
<p>Configuration for the MongoDB connection</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>TEKST_DB__PROTOCOL</code></td>
<td>MongoDB protocol (String – default: <code>mongodb</code>)</td>
</tr>
<tr>
<td><code>TEKST_DB__HOST</code></td>
<td>MongoDB host (String – default: <code>127.0.0.1</code>)</td>
</tr>
<tr>
<td><code>TEKST_DB__PORT</code></td>
<td>MongoDB port (Integer – default: <code>27017</code>)</td>
</tr>
<tr>
<td><code>TEKST_DB__USER</code></td>
<td>MongoDB user (String – default: <em>none</em>)</td>
</tr>
<tr>
<td><code>TEKST_DB__PASSWORD</code></td>
<td>MongoDB password (String – default: <em>none</em>)</td>
</tr>
<tr>
<td><code>TEKST_DB__NAME</code></td>
<td>MongoDB database name (String – default: <code>tekst</code>)</td>
</tr>
</tbody>
</table>
<h2 id="search-server-elasticsearch">Search Server (Elasticsearch)</h2>
<p>Configuration for the connection to the Elasticsearch server</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>TEKST_ES__PROTOCOL</code></td>
<td>Elasticsearch protocol (String – default: <code>http</code>)</td>
</tr>
<tr>
<td><code>TEKST_ES__HOST</code></td>
<td>Elasticsearch host (String – default: <code>127.0.0.1</code>)</td>
</tr>
<tr>
<td><code>TEKST_ES__PORT</code></td>
<td>Elasticsearch port (Integer – default: <code>9200</code>)</td>
</tr>
<tr>
<td><code>TEKST_ES__PREFIX</code></td>
<td>Elasticsearch prefix (for index, templates, etc.) (String – default: <code>tekst</code>)</td>
</tr>
<tr>
<td><code>TEKST_ES__TIMEOUT_INIT_S</code></td>
<td>Timeout for waiting for Elasticsearch service to be available on startup, in seconds (Integer – default: <code>240</code>)</td>
</tr>
<tr>
<td><code>TEKST_ES__TIMEOUT_GENERAL_S</code></td>
<td>General client timeout for requests to Elasticsearch, in seconds (Integer – default: <code>30</code>)</td>
</tr>
<tr>
<td><code>TEKST_ES__TIMEOUT_SEARCH_S</code></td>
<td>Timeout for search reqests to Elasticsearch, in seconds (Integer – default: <code>30</code>)</td>
</tr>
<tr>
<td><code>TEKST_ES__MAX_FIELD_MAPPINGS</code></td>
<td>Max. number of field mappings per search index – given there is enough memory, this can be increased in case there are e.g. annotation resources with many distinct annotation keys (these are dynamically mapped fields). The admin maintenance UI shows a warning if an index is about to hit this value. Any field mapping surpassing this value will be ignored and won't be searchable. (Integer – default: <code>1000</code>)</td>
</tr>
</tbody>
</table>
<h2 id="security">Security</h2>
<p>All the configuration related to app-level security</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>TEKST_SECURITY__SECRET</code></td>
<td>Secret to use for token generation (String – default: <code>must_change_this</code>)</td>
</tr>
<tr>
<td><code>TEKST_SECURITY__CLOSED_MODE</code></td>
<td>Whether to allow public registrations (Boolean – default: <code>false</code>)</td>
</tr>
<tr>
<td><code>TEKST_SECURITY__USERS_ACTIVE_BY_DEFAULT</code></td>
<td>Whether new user accounts are active by default (otherwise have to be activated by admins) (Boolean – default: <code>false</code>)</td>
</tr>
<tr>
<td><code>TEKST_SECURITY__ENABLE_COOKIE_AUTH</code></td>
<td>Enable cookie-based authentication (needed for the web client to work!) (Boolean – default: <code>true</code>)</td>
</tr>
<tr>
<td><code>TEKST_SECURITY__AUTH_COOKIE_NAME</code></td>
<td>Cookie name (String – default: <code>tekstuserauth</code>)</td>
</tr>
<tr>
<td><code>TEKST_SECURITY__AUTH_COOKIE_DOMAIN</code></td>
<td>Cookie domain (String – default: <em>none</em>)</td>
</tr>
<tr>
<td><code>TEKST_SECURITY__AUTH_COOKIE_LIFETIME</code></td>
<td>Cookie lifetime in seconds (Integer – default: <code>43200</code>)</td>
</tr>
<tr>
<td><code>TEKST_SECURITY__ACCESS_TOKEN_LIFETIME</code></td>
<td>Lifetime of access token in DB (should match <code>TEKST_SECURITY__AUTH_COOKIE_LIFETIME</code>) (Integer – default: <code>43200</code>)</td>
</tr>
<tr>
<td><code>TEKST_SECURITY__ENABLE_JWT_AUTH</code></td>
<td>Enable JWT-based authentication (optional, useful for programmatic access to the API) (Boolean – default: <code>false</code>)</td>
</tr>
<tr>
<td><code>TEKST_SECURITY__AUTH_JWT_LIFETIME</code></td>
<td>Lifetime of JWT used for authentication (Integer – default: <code>86400</code>)</td>
</tr>
<tr>
<td><code>TEKST_SECURITY__RESET_PW_TOKEN_LIFETIME</code></td>
<td>Lifetime of password reset tokens (Integer – default: <code>3600</code>)</td>
</tr>
<tr>
<td><code>TEKST_SECURITY__VERIFICATION_TOKEN_LIFETIME</code></td>
<td>Lifetime of account verification tokens (Integer – default: <code>86400</code>)</td>
</tr>
<tr>
<td><code>TEKST_SECURITY__INIT_ADMIN_EMAIL</code></td>
<td>Email address of initial admin account (String – default: <em>none</em>)</td>
</tr>
<tr>
<td><code>TEKST_SECURITY__INIT_ADMIN_PASSWORD</code></td>
<td>Password of initial admin account (String – default: <em>none</em>)</td>
</tr>
</tbody>
</table>
<h2 id="email">Email</h2>
<p>Configuration for the SMTP connection and sender address of outgoing emails</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>TEKST_EMAIL__SMTP_SERVER</code></td>
<td>SMTP server address (String – default: <code>127.0.0.1</code>)</td>
</tr>
<tr>
<td><code>TEKST_EMAIL__SMTP_PORT</code></td>
<td>SMTP server port (Integer – default: <code>25</code>)</td>
</tr>
<tr>
<td><code>TEKST_EMAIL__SMTP_USER</code></td>
<td>SMTP user (String – default: <em>none</em>)</td>
</tr>
<tr>
<td><code>TEKST_EMAIL__SMTP_PASSWORD</code></td>
<td>SMTP password (String – default: <em>none</em>)</td>
</tr>
<tr>
<td><code>TEKST_EMAIL__SMTP_STARTTLS</code></td>
<td>Whether to use StartTLS for SMTP connection (Boolean – default: <code>true</code>)</td>
</tr>
<tr>
<td><code>TEKST_EMAIL__FROM_ADDRESS</code></td>
<td>From-address used for outgoing emails (String – default: <code>noreply@example-tekst-instance.org</code>)</td>
</tr>
</tbody>
</table>
<h2 id="documentation">Documentation</h2>
<p>Configuration for the OpenAPI schema URL and API documentation via SwaggerUI and/or Redoc</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>TEKST_API__OPENAPI_URL</code></td>
<td>URL sub path (under <code>TEKST_API_PATH</code>) to public <code>openapi.json</code> API schema (if not set, disables SwaggerUI and Redoc) (String – default: <code>/openapi.json</code>)</td>
</tr>
<tr>
<td><code>TEKST_API__SWAGGERUI_URL</code></td>
<td>URL sub path (under <code>TEKST_API_PATH</code>) to SwaggerUI interactive API docs; empty value disables SwaggerUI (String – default: <code>/docs</code>)</td>
</tr>
<tr>
<td><code>TEKST_API__REDOC_URL</code></td>
<td>URL sub path (under <code>TEKST_API_PATH</code>) to Redoc API docs; empty value disables Redoc (String – default: <code>/redoc</code>)</td>
</tr>
<tr>
<td><code>TEKST_API__TITLE</code></td>
<td>Platform API title (String – default: <code>Tekst</code>)</td>
</tr>
<tr>
<td><code>TEKST_API__SUMMARY</code></td>
<td>Platform API summary (String – default: <em>none</em>)</td>
</tr>
<tr>
<td><code>TEKST_API__DESCRIPTION</code></td>
<td>Platform API description (String – default: <em>none</em>)</td>
</tr>
<tr>
<td><code>TEKST_API__TERMS_URL</code></td>
<td>URL to API usage terms (String – default: <em>none</em>)</td>
</tr>
<tr>
<td><code>TEKST_API__CONTACT_NAME</code></td>
<td>API contact name (String – default: <em>none</em>)</td>
</tr>
<tr>
<td><code>TEKST_API__CONTACT_EMAIL</code></td>
<td>API contact email (String – default: <em>none</em>)</td>
</tr>
<tr>
<td><code>TEKST_API__CONTACT_URL</code></td>
<td>API contact URL (String – default: <em>none</em>)</td>
</tr>
<tr>
<td><code>TEKST_API__LICENSE_NAME</code></td>
<td>API license name; if not set, no license info will be integrated in API docs (String – default: <em>none</em>)</td>
</tr>
<tr>
<td><code>TEKST_API__LICENSE_ID</code></td>
<td>API license ID (canonical short form of name) (String – default: <em>none</em>)</td>
</tr>
<tr>
<td><code>TEKST_API__LICENSE_URL</code></td>
<td>API license URL (String – default: <em>none</em>)</td>
</tr>
</tbody>
</table>
<h2 id="cross-origin-resource-sharing-cors">Cross-Origin Resource Sharing (CORS)</h2>
<p>You <em>should</em> handle CORS via your webserver configuration. But if for some reason you nead app-level CORS management, this is where to look.</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>TEKST_CORS__ENABLE</code></td>
<td>Enable CORS header control; only enable this if you don't have a web server / reverse proxy that already handles it! (Boolean – default: <code>false</code>)</td>
</tr>
<tr>
<td><code>TEKST_CORS__ALLOW_ORIGINS</code></td>
<td>CORS allow origins (Comma-separated list as string – default: <code>*</code>)</td>
</tr>
<tr>
<td><code>TEKST_CORS__ALLOW_CREDENTIALS</code></td>
<td>CORS allow credentials (Boolean – default: <code>true</code>)</td>
</tr>
<tr>
<td><code>TEKST_CORS__ALLOW_METHODS</code></td>
<td>CORS allow methods (Comma-separated list as string – default: <code>*</code>)</td>
</tr>
<tr>
<td><code>TEKST_CORS__ALLOW_HEADERS</code></td>
<td>CORS allow headers (Comma-separated list as string – default: <code>*</code>)</td>
</tr>
</tbody>
</table>
<h2 id="what-is-left">What is left</h2>
<p>All these configuration values – and then some...</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>TEKST_MISC__USRMSG_FORCE_DELETE_AFTER_DAYS</code></td>
<td>Delete old user messages after n days (Integer – default: <code>365</code>)</td>
</tr>
<tr>
<td><code>TEKST_MISC__MAX_RESOURCES_PER_USER</code></td>
<td>Maximum number of resources/versions that one user is allowed to own (Integer – default: <code>10</code>)</td>
</tr>
<tr>
<td><code>TEKST_MISC__DEL_EXPORTS_AFTER_MINUTES</code></td>
<td>Time in minutes after whichfinished/failed tasks that produce a downloadable file artifact (namely "exports") will be deleted automatically, including the respective file (Integer – default: <code>5</code>)</td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.sections", "navigation.expand", "navigation.top", "content.code.copy", "search.suggest", "search.highlight", "search.share"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>